<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<!-- 编辑字段 -->
<dom-module id="expansion-panel">

  <template>

		<style>
			.header {
				min-height: 48px;
        background: -webkit-linear-gradient(#c9daf8, #cfe2f3); /* Safari 5.1 - 6.0 */
        background: -o-linear-gradient(#c9daf8, #cfe2f3); /* Opera 11.1 - 12.0 */
        background: -moz-linear-gradient(#c9daf8, #cfe2f3); /* Firefox 3.6 - 15 */
        background: linear-gradient(#c9daf8, #cfe2f3); /* 标准的语法（必须放在最后） */
				color: var(--primary-text-color);
				@apply --layout-center;
				@apply --layout-justified;
				@apply --paper-font-subhead;
				@apply --paper-expansion-panel-header;
			}

      .header:selected {
        background: black;
      }

			.toggle {
				color: var(--disabled-text-color);
			}

			.content {
				@apply --paper-font-body1;
				@apply --paper-expansion-panel-content;
			}

			.summary {
				@apply --paper-expansion-panel-summary;
				color: var(--secondary-text-color);
			}

			.flex {
				@apply --layout-flex;
			}

      paper-item:hover {
        background: rgb(232, 232, 231);
      }
		</style>

		<paper-item class="header" on-tap="_toggleOpened">
			<template is="dom-if" if="[[header]]">
				<div class="flex">[[header]]</div>

				<template is="dom-if" if="[[summary]]">
					<div hidden$="[[opened]]" class="flex summary">[[summary]]</div>
				</template>
			</template>

			<template is="dom-if" if="[[!header]]">
				<slot name="header"><div class="flex">&nbsp;</div></slot>
			</template>

			<paper-icon-button class="toggle" icon="[[_toggleIcon]]"></paper-icon-button>
		</paper-item>
		<iron-collapse class="content" opened="{{opened}}">
			<slot></slot>
		</iron-collapse>

	</template>

  <script>

    class ExpansionPanel extends Polymer.Element {

      static get is() { return 'expansion-panel'; }

      static get properties() { return {
        /**
			 * Text in the header row
			 */
  			header: {
  				type: String,
  				value: '',
  			},

  			/**
  			 * Summary of the expandible area
  			 */
  			summary: String,

  			/**
  			 * True if the content section is opened
  			 */
  			opened: {
  				type: Boolean,
  				reflectToAttribute: true,
  				notify: true
  			},

  			_toggleIcon: {
  				type: String,
  				computed: '_computeToggleIcon(opened)'
  			}
      }}

      static get observers() { return [
      ]}

      ready() {
        super.ready();
      }

      // Private methods
  		/**
  		 * Fired whenever the status is changed (opened/closed)
  		 *
  		 * @event toggle
  		 */
  		_toggleOpened(e) {
  			this.opened = !this.opened;
  			// this.fire('toggle', this);
  		}

  		_computeToggleIcon(opened) {
  			return opened ? 'icons:expand-less' : 'icons:expand-more';
  		}

    }

    customElements.define(ExpansionPanel.is, ExpansionPanel);

  </script>

</dom-module>
