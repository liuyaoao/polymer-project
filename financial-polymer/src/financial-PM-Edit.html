<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/iron-input/iron-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/app-layout/app-grid/app-grid-style.html">


<dom-module id="financial-PM-Edit">
<link rel="import" href="../theme/denim/denim.css" type="css">
  <template>

    <style include="app-grid-style">
    :host {
      display: block;
      width:40%;
      padding:0;
      margin:30px auto;
      --app-grid-columns:3;
      --app-grid-expandible-item-columns: 2;
    }
    paper-button{
      padding:0.1em 0;
      min-width: 2.14em ;
      margin:0;
      height:2.14em;
      font-size:12px;
      --paper-button:{
       text-transform: none;
     }
    }
    </style>
    <div class="financialPmEdit">
      <form name="fpwPMTSform" id="fpwPMTSform" action="[[appData]]/wbfpwpmts" method="POST" target="_blank" style="color: #FFFFFF">
          <input type="hidden" id="submitValue" name="submitValue" value="" />
      </from>
        <input type="hidden" name="mlmfile" id="mlmfile" value="wbfpwpmts" />
        <input type="hidden" name="fpwulvl" id="fpwulvl" value="[[]sourceData]" />
        <input type="hidden" name="mlid" id="mlid" value="[[userName]]" />
        <input type="hidden" name="mlid4" id="mlid4"value="[[userName4]]" />
        <input type="hidden" name="outrunindex" id="outrunindex" value="[[runIndex]]" />
        <input type="hidden" name="WhereOrderFrom" id="WhereOrderFrom" value="SLFE" />

          <div class="pmFilterEditor">
            <a href="/PMfilterEditor" name="PMfilterEditor">PM filter Editor</a>
            <paper-button raised on-click="clickDelete" id="fpwptload3">Delete</paper-button>
            <paper-button raised on-click="clickReview" id="fpwptload1">Review</paper-button>
            <input is="iron-input" name="Pzhu118" id="Pzhu118" bind-value="[[PZhu118]]" />
            <paper-dropdown-menu id="Pzhu112" name="Pzhu112" value="[[selectedItem]]">
                <paper-listbox class="dropdown-content" selected="1">
                  <template is="dom-repeat" items="[[pmFilter]]" >
                    <paper-item value="[[item.value]]"><span>[[item.title]]</span></paper-item>
                  </template>
                </paper-listbox>
            </paper-dropdown-menu>
            <paper-button raised on-click="clickSave" id="fpwptsave1">Save</paper-button>
            <paper-button raised on-click="clickFilterList" id="fpwptload2">Filter List</paper-button>
          </div>
          <div class="app-grid">
              <div class="item">
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt1]]</textarea></div>
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt2]]</textarea></div>
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt3]]</textarea></div>
              </div>
              <div class="item">
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt4]]</textarea></div>
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt5]]</textarea></div>
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt6]]</textarea></div>
              </div>
              <div class="item">
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt7]]</textarea></div>
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt8]]</textarea></div>
                <div><textarea rows="12" name="fpwpmt1" cols="70">[[fpwpmt9]]</textarea></div>
              </div>
          </div>
          <div class="iframe">
              <iframe name="FPWrunstatus" width="1142" height="24" src="[[srsource]]" align="left"></iframe>
          </div>
    </div>
  </template>

  <script>

    Polymer({
      is: 'financial-PM-Edit',
      properties: {
        userName: String,
        appData:String,
        userName4:String,
        serviceData:String,
        runIndex:String,
        PZhu118:String,
        fpwpmt1:String,
        fpwpmt2:String,
        fpwpmt3:String,
        fpwpmt4:String,
        fpwpmt5:String,
        fpwpmt6:String,
        fpwpmt7:String,
        fpwpmt8:String,
        fpwpmt9:String,
        srsource:String,

        pmFilter:Array,
      },
      ready:function(){
          this.pmFilter=[
            {"value":"1","title":"1. Model Weights"},
            {"value":"2","title":"2. Overlap Filters"},
            {"value":"3","title":"3. Condition Filters"}
          ];
      },
      colectValue:function(){
        var submit=this.$.submitValue;
        var selectV=this.Pzhu112.value;
        submit.value='{"mlmfile":"wbfpwpmts","fpwulvl":"'+this.serviceData+'","mlid":"'+this.userName+'","mlid4":"'+this.userName4+'","outrunindex":"'+this.runIdex+
        '","WhereOrderFrom":"SLFE","Pzhu118":"'+this.PZhu118+'","Pzhu112":"'+selectV+'","fpwpmt1":"'+this.fpwpmt1+'","fpwpmt2":"'+this.fpwpmt2+
      '","fpwpmt3":"'+this.fpwpmt3+'","fpwpmt4":"'+this.fpwpmt4+'","fpwpmt5":"'+this.fpwpmt5+'","fpwpmt6":"'+this.fpwpmt6+'","fpwpmt7":"'
      +this.fpwpmt7+'","fpwpmt8":"'+this.fpwpmt8+'","fpwpmt9":"'+this.fpwpmt9+'"}';
        this.$.fpwPMTSform.submit();
      },
      clickDelete:function(){
        this.runIndex="4";
        this.$.fpwptload3.target="FPWrunstatus";
        this.colectValue();
      },
      clickReview:function(){
        this.runIndex="1";
        this.$.fpwptload1.target="_blank"
        this.colectValue();
      },
      clickSave:function(){
        this.runIndex="2";
        this.$.fpwptsave1.target="FPWrunstatus";
        this.colectValue();
      },
      clickFilterList:function(){
        this.runIndex="3";
        this.$.fpwptload2.target="FPWrunstatus";
        this.colectValue();
      },
    });
  </script>
</dom-module>
