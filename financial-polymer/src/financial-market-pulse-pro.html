<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/iron-input/iron-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">

<link rel="import" href="financial-pattern-footer.html">

<link rel="import" href="../bower_components/app-layout/app-grid/app-grid-style.html">

<dom-module id="financial-market-pulse-pro">
<link rel="import" href="../theme/denim/denim.css" type="css">
  <template>

    <style include="app-grid-style">
    :host {
      display: block;
      width:60%;
      padding:0;
      margin:30px auto;
      --app-grid-columns:4;
      --app-grid-expandible-item-columns: 3;
      /*text-align: center;*/
    }
    .item:nth-child(2){
      @apply(--app-grid-expandible-item);
      padding-left:10px;
      text-align: center;
      padding-top:5px;
    }

    table{
      width:100%;
    }
    .table1 tr td{
      width:50%;
      border:1px solid #ddd;
      text-align: center;
      /*background:#00FF00;*/
    }
    .table2 tr td{
      width:68%;
      border:1px solid #ddd;
      /*text-align: center;*/
      /*background:#00FF00;*/
    }

    paper-dropdown-menu{
      width:3.14em;
      --paper-input-container:{
          padding:0;
        }
    }
    #mpmruon,#mpmrkind{
      width:4.14em;
    }
    #mpptmrk{
      width:6.14em;
    }
    paper-item{
      width:100%ï¼›
    }
    paper-button{
      min-width:2.10em;
      margin:0.1em;
      padding:1px;
      /*background-color: #ededed;*/
      font-size:14px;
      --paper-button:{
       text-transform: none;
     }
    }
    input{
      width:50px;
      background-color: #d2d2d2;
    }
    .pleft,.pRight{
        float:left;
        border:1px solid #ddd;
        border-top-color:transparent;
    }
    .pRight{
      width:39%;
      border-color:transparent;
    }
    .pRight>span{
      display:inline-block;
      width:100%;
      border-bottom:1px solid #ddd;
      /*border-top-color: transparent;*/
    }
    /*.pRight>span:nth-child(4){
      border-top-color: #ddd;
    }*/
    .pRight paper-button{
      margin-bottom: 2px;
    }
    .pleft{
      width:60%;
      border-right-color: transparent;
    }
    .pleft>div{
      margin:0 auto;
      width:99%;
      border:1px solid #ddd;
      border-top-color: transparent;
    }
    iron-autogrow-textarea{
      width:98%;
      height:100px;
      border:none;
    }
    .item{
      border:1px solid #ddd;
    }
    .item:first-child{
      border-right-color: transparent;
    }
    .item>div{
      border-bottom: 1px solid #ddd;
    }
    div.simpleManagingRules{
      border-bottom-color:transparent;
    }
    .simpleManagingRules>div{
      width:98%;
      text-align: center;
    }
    .simpleManagingRules>div:first-child{
      padding-bottom: 3px;
      border-bottom: 1px solid #ddd;
    }
    p ,h4{
      margin:5px;
      text-align: center;
    }
    .financialMarketPulsePro{
      margin-bottom: 15px;
    }
    iframe{
      border-bottom: none;
    }
    </style>
    <div class="financialMarketPulsePro">
      <form id="mpsimForm" name="mpsimForm" action="" method="post">
        <input type="hidden" name="submitValue" value="" />
      </form>
      <input type="hidden" name="mlmfile" value="wbstmpsimu" />
    	<input type="hidden" name="mlid" value="{{fpwusername}}"/>
    	<input type="hidden" name="mlid4" value="{{fpwusername4}}" />
    	<input type="hidden" name="WhereOrderFrom" value="SLFE" />
    	<input type="hidden" name="hdmpefls" id="hdmpefls" value="KaKaKa" />
    	<input type="hidden" name="hdmpefco" id="hdmpefco" value="KaKaKa" />
    	<input type="hidden" name="hdmpefcoqs" id="hdmpefcoqs" value="KaKaKa" />
    	<input type="hidden" name="hdmpptdt" value="KaKaKa" />
    	<input type="hidden" name="mprunindex" value="{{mprunindex}}" />
    	<input type="hidden" name="mpsrsindex" value="{{mpsrsindex}}" />
    	<input type="hidden" name="mpswinno" value="{{mpswinno}}" />
    	<input type="hidden" name="mpslossno" value="{{mpslossno}}" />
    	<input type="hidden" name="mpsdrawno" value="{{mpsdrawno}}" />
    	<input type="hidden" name="mpswinper" value="{{mpswinper}}" />
    	<input type="hidden" name="mpsevdd" value="{{mpsevdd}}" />
    	<input type="hidden" name="mpsprfr" value="{{mpsprfr}}" />
    	<input type="hidden" name="mpsequity" value="{{mpsequity}}" />
    	<input type="hidden" name="mpsmaxfp" value="{{mpsmaxfp}}" />
    	<input type="hidden" name="mpsmaxdd" value="{{mpsmaxdd}}" />
    	<input type="hidden" name="mpsavet" value="{{mpsavet}}" />
    	<input type="hidden" name="mpsavew" value="{{mpsavew}}" />
    	<input type="hidden" name="mpsavel" value="{{mpsavel}}" />
    	<input type="hidden" name="mpsmaxw" value="{{mpsmaxw}}" />
    	<input type="hidden" name="mpsmaxl" value="{{mpsmaxl}}" />
    	<input type="hidden" name="filetypeid" id="filetypeid" value="mpsim" />
    	<input type="hidden" name="fpwulvl" value="{{fpwulvl}}" />

      <div class="app-grid">
        <div class="item">
            <div class="simulationStatistics">
                <p><a href="" name="">Simulation Statistics</a></p>
                <table class="table1">
                  <template is="dom-repeat" items="{{table1Content}}">
                    <tr><td>{{item.name}}</td><td>{{item.value}}</td></tr>
                  </template>
                </table>
            </div>
            <div class="SimulationParameters">
              <p><a href="" name="">Simulation Parameters</a></p>
              <table class="table2">
                <template is="dom-repeat" items="{{table2Content}}">
                  <tr><td>{{item.name}}</td><td>{{item.value}}</td></tr>
                </template>
              </table>
            </div>
            <div class="simpleManagingRules">
              <div>
                <paper-dropdown-menu id="mpmruon" name="mpmruon" value="" dynamicAlign="true">
                    <paper-listbox class="dropdown-content" selected="1">
                        <paper-item label="1"><span>Use</span></paper-item>
                        <paper-item label="0"><span>NotUse</span></paper-item>
                    </paper-listbox>
                </paper-dropdown-menu>
                <paper-dropdown-menu id="mpmrkind" name="mpmrkind" value="" dynamicAlign="true">
                    <paper-listbox class="dropdown-content" selected="2">
                        <paper-item label="1"><span>Volatility</span></paper-item>
                        <paper-item label="2"><span>EntPrice</span></paper-item>
                        <paper-item label="3"><span>Value</span></paper-item>
                        <paper-item label="4"><span>|Enp-c1|</span></paper-item>
                    </paper-listbox>
                </paper-dropdown-menu>
                <paper-dropdown-menu id="mpmrvo" name="mpmrvo" value="" dynamicAlign="true">
                    <paper-listbox class="dropdown-content" selected="1">
                      <template is="dom-repeat" items="{{nums}}" >
                        <paper-item label="{{item.val}}">
                          <span>{{item.val}}</span></paper-item>
                      </template>
                    </paper-listbox>
                </paper-dropdown-menu>
              </div>
              <div>
                <font class="green">Stop</font>
                <input is="iron-input" name="mpmrstop"  bind-value="{{mpmrstop}}"/>
                <font class="green">Obje</font>
                <input is="iron-input" name="mpmrobje"  bind-value="{{mpmrobje}}"/>
                <paper-button raised id="mpefrun2" class="green primary" on-click="" >RM</paper-button>
              </div>
            </div>
        </div>
        <div class="item">
          <div><img src="../images/Mpsimujpeg.jpg"/></div>
          <div>
            <paper-button raised id="" class="primary" on-click="" >L1</paper-button>
            <paper-button raised id="mpefrs" class="primary" on-click="" class="green">Reset</paper-button>
            <input is="iron-input" name="mpefvb"  bind-value="{{mpefvb}}"/>
            <paper-button raised id="mpb1" class="primary" on-click="" >Vol</paper-button>
            <input is="iron-input" name="mpefve"  bind-value="{{mpefve}}"/>
            <input is="iron-input" name="mpefpb"  bind-value="{{mpefpb}}"/>
            <paper-button raised id="mpb2" class="primary" on-click="" >Price</paper-button>
            <input is="iron-input" name="mpefpe"  bind-value="{{mpefpe}}"/>
            <input is="iron-input" name="mpefvpb"  bind-value="{{mpefvpb}}"/>
            <paper-button raised id="mpb3" class="primary" on-click="" >Vol*P</paper-button>
            <input is="iron-input" name="mpefvpe"  bind-value="{{mpefvpe}}"/>
            <paper-button raised id="mpefrun" class="primary" on-click="" class="green">Dcom</paper-button>
          </div>
          <div>
            <input is="iron-input" name="mpefsp"  bind-value="{{mpefsp}}"/>
            <paper-dropdown-menu id="mpefhlqs" name="mpefhlqs" value="" dynamicAlign="true">
                <paper-listbox class="dropdown-content" selected="1">
                  <template is="dom-repeat" items="{{mpefhlData}}" >
                    <paper-item label="{{item.val}}">
                      <span>{{item.val}}</span></paper-item>
                  </template>
                </paper-listbox>
            </paper-dropdown-menu>
            <paper-button raised id="mpefcoqs" class="warning" on-click="" >Close</paper-button>
            <paper-button raised id="mpefls" class="primary" on-click="" >+/-</paper-button>
            <paper-dropdown-menu id="mpefhl" name="mpefhl" value="" dynamicAlign="true">
                <paper-listbox class="dropdown-content" selected="1">
                  <template is="dom-repeat" items="{{mpefhlData}}" >
                    <paper-item label="{{item.val}}">
                      <span>{{item.val}}</span></paper-item>
                  </template>
                </paper-listbox>
            </paper-dropdown-menu>
            <paper-button raised id="mpefco" class="warning" on-click="" >Close</paper-button>
            <paper-button raised id="mpefv" class="primary" on-click="" >V</paper-button>
            <paper-button raised id="mpefp" class="primary" on-click="" >P</paper-button>
            <paper-button raised id="mpefvp" class="primary" on-click="" >VP</paper-button>
            <a href="" name="">F</a>
            <input is="iron-input" name="mpefef"  bind-value="{{mpefef}}"/>
            <paper-button raised id="ProgmoniW" class="primary" on-click="" class="red">M</paper-button>
          </div>
          <div>
            <div class="pleft">
              <div>
                <a href='' name="">P</a>
                <paper-button raised id="mpptdelete" class="warning" on-click="" >Delete</paper-button>
                <paper-button raised id="mpptload" class="success" on-click="" >Load</paper-button>
                <input is="iron-input" name="mpptname"  bind-value="{{mpptname}}"/>
                <paper-button raised id="mpptsave" class="primary" on-click="" >Save</paper-button>
                <paper-button raised id="mpptdt" class="primary" on-click="" >Daily</paper-button>
                <paper-dropdown-menu id="mpptmrk" name="mpptmrk" value="" dynamicAlign="true">
                    <paper-listbox class="dropdown-content" selected="1">
                        <paper-item label="AllMrkts"><span>AllMrkts</span></paper-item>
                        <paper-item label="AMEX"><span>AMEX</span></paper-item>
                        <paper-item label="NYSE"><span>NYSE</span></paper-item>
                        <paper-item label="Nasdaq"><span>Nasdaq</span></paper-item>
                    </paper-listbox>
                </paper-dropdown-menu>
                <paper-button raised id="mpptrun" class="success" on-click="" class="green">Run</paper-button>
            </div>
            <div>
              <iron-autogrow-textarea name="mpptfilef" id="mpptfilef">{{mpptfilef}}</iron-autogrow-textarea><br />
              <iframe name="MPrunstatus" width="99%" height="55" src="/{{MPsrsource}}" align="left"></iframe>
            </div>
          </div>
          <div class="pRight">
            <span><paper-button raised id="mprun51" class="primary" on-click="" >Simu2 <-> Simu1</paper-button></span><br/>
            <span><paper-button raised id="mprun52" class="primary" on-click="" >Dcom2 <-> Dcom1</paper-button></span><br/>
            <span><paper-button raised id="mprun53" class="primary" on-click="" >Dcom2+1 ->Dcom2</paper-button></span><br/>
            <h4>Graphic Review</h4>
            <span><paper-button raised id="mprun83" class="primary" on-click="" >Sim1</paper-button>
            <paper-button raised id="mprun41" class="primary" on-click="" >Sim2</paper-button>
            <paper-button raised id="mprun42" class="primary" on-click="" >Dcom1</paper-button></span><br/>
            <span><paper-button raised id="mprun43" class="primary" on-click="" >Dcom2+1</paper-button>
            <paper-button raised id="mprun44" class="primary" on-click="" >Dcom2</paper-button></span><br/>
            <span><paper-button raised id="mprun82" class="primary" on-click="" >Equity</paper-button>
            <paper-button raised id="mprun31" class="primary" on-click="" >TradingLists</paper-button></span><br/>
            <span><paper-button raised id="mprun24" class="primary" on-click="" >Simulation Details</paper-button></span>
          </div>
        </div>
      </div>
      </div>
    </div>
    <financial-pattern-footer></financial-pattern-footer>
  </template>
  <script>

    Polymer({
      is: 'financial-market-pulse-pro',
      properties:{
          table1Content:Array,
          table2Content:Array,
          nums:Array,
          mpefhlData:Array,
          mpswinno:String,
          mpslossno:String,
          mpsdrawno:String,
          mpswinper:String,
          mpsevdd:String,
          mpsprfr:String,
          mpsequity:String,
          mpsmaxfp:String,
          mpsmaxdd:String,
          mpsavet:String,

          Mpsimujpeg:String,

          mpspsp:String,
          mpsphl:String,
          mpspv:String,
          mpspp:String,
          mpspvp:String,

          mpmrstop:String,


          mpefvb:String,
          mpefve:String,
          mpefpb:String,
          mpefpe:String,
          mpefvpb:String,
          mpefvpe:String,
          mpefsp:String,

          mpptfilef:String,
          mpefef:String,
          mpptname:String,
          MPsrsource:String,
      },
      ready:function(){
          this.table1Content=[
            {"name":"Win No.","value":this.mpswinno},
            {"name":"Loss No.","value":this.mpslossno},
            {"name":"Draw No.","value":this.mpsdrawno},
            {"name":"Win %","value":this.mpswinper},
            {"name":"$ Vs. D/D","value":this.mpsevdd},
            {"name":"Pr. Factor","value":this.mpsprfr},
            {"name":"Equity (K$)","value":this.mpsequity},
            {"name":"Max FP","value":this.mpsmaxfp},
            {"name":"Max D/D","value":this.mpsmaxdd},
            {"name":"Ave Trade","value":this.mpsavet}
          ];
          this.table2Content=[
            {"name":"Simulation period","value":this.mpspsp},
            {"name":"Holding length","value":this.mpsphl},
            {"name":"Vol [Begin Step]","value":this.mpspv},
            {"name":"Price[Begin Step]","value":this.mpspp},
            {"name":"V*P [Begin Step]","value":this.mpspvp},
          ];
          this.nums=[
            {"val":"1"},{"val":"2"},{"val":"3"},{"val":"4"},{"val":"5"},{"val":"6"},{"val":"7"},{"val":"8"},
            {"val":"9"},{"val":"10"},{"val":"11"},{"val":"12"},{"val":"13"},{"val":"14"},{"val":"15"},{"val":"16"},
            {"val":"17"},{"val":"18"},{"val":"19"},{"val":"20"},{"val":"20"},{"val":"22"},{"val":"23"},{"val":"24"},
            {"val":"25"},{"val":"26"},{"val":"27"},{"val":"28"},{"val":"29"},{"val":"30"}];
          this.mpefhlData=[
            {"val":"1"},{"val":"2"},{"val":"3"},{"val":"4"},{"val":"5"},{"val":"6"},{"val":"7"},{"val":"8"},
            {"val":"9"},{"val":"10"},{"val":"11"},{"val":"12"},{"val":"13"},{"val":"14"},{"val":"15"},{"val":"16"},
            {"val":"17"},{"val":"18"},{"val":"19"},{"val":"20"},{"val":"21"},{"val":"22"},{"val":"23"},{"val":"24"},
            {"val":"25"},{"val":"26"},{"val":"27"},{"val":"28"},{"val":"29"},{"val":"30"},
            {"val":"31"},{"val":"32"},{"val":"33"},{"val":"34"},{"val":"35"},{"val":"36"},{"val":"37"},{"val":"38"},
            {"val":"39"},{"val":"40"},{"val":"41"},{"val":"42"},{"val":"43"},{"val":"44"},{"val":"45"},{"val":"46"},
            {"val":"47"},{"val":"48"},{"val":"49"},{"val":"50"},{"val":"51"},{"val":"52"},{"val":"53"},{"val":"54"},
            {"val":"55"},{"val":"56"},{"val":"57"},{"val":"58"},{"val":"59"},{"val":"60"},
            {"val":"61"},{"val":"62"},{"val":"63"},{"val":"64"},{"val":"65"},{"val":"66"},{"val":"67"},{"val":"68"},
            {"val":"69"},{"val":"70"},{"val":"71"},{"val":"72"},{"val":"73"},{"val":"7"},{"val":"75"},{"val":"76"},
            {"val":"77"},{"val":"78"},{"val":"79"},{"val":"80"},{"val":"80"},{"val":"82"},{"val":"83"},{"val":"84"},
            {"val":"85"},{"val":"86"},{"val":"87"},{"val":"88"},{"val":"89"},{"val":"90"},
            {"val":"91"},{"val":"92"},{"val":"93"},{"val":"94"},{"val":"95"},{"val":"96"},{"val":"97"},{"val":"98"},
            {"val":"99"},{"val":"100"},{"val":"101"},{"val":"102"},{"val":"103"},{"val":"104"},{"val":"105"},{"val":"106"},
            {"val":"107"},{"val":"108"},{"val":"109"},{"val":"110"},{"val":"111"},{"val":"112"},{"val":"113"},{"val":"114"},{"val":"115"},{"val":"116"},
            {"val":"117"},{"val":"118"},{"val":"119"},{"val":"120"},{"val":"121"},{"val":"122"},{"val":"123"},{"val":"124"},
            {"val":"125"},{"val":"126"},{"val":"127"},{"val":"128"},{"val":"129"},{"val":"130"},
            {"val":"131"},{"val":"132"},{"val":"133"},{"val":"134"},{"val":"135"},{"val":"136"},{"val":"137"},{"val":"138"},
            {"val":"139"},{"val":"140"},{"val":"141"},{"val":"142"},{"val":"143"},{"val":"144"},{"val":"145"},{"val":"146"},
            {"val":"147"},{"val":"148"},{"val":"149"},{"val":"150"},{"val":"150"},{"val":"152"},{"val":"153"},{"val":"154"},
            {"val":"155"},{"val":"156"},{"val":"157"},{"val":"158"},{"val":"159"},{"val":"160"},
            {"val":"161"},{"val":"162"},{"val":"163"},{"val":"164"},{"val":"165"},{"val":"166"},{"val":"167"},{"val":"168"},
            {"val":"169"},{"val":"170"},{"val":"171"},{"val":"172"},{"val":"173"},{"val":"174"},{"val":"175"},{"val":"176"},
            {"val":"177"},{"val":"178"},{"val":"179"},{"val":"180"},{"val":"181"},{"val":"182"},{"val":"183"},{"val":"184"},
            {"val":"185"},{"val":"186"},{"val":"187"},{"val":"188"},{"val":"189"},{"val":"190"},
            {"val":"191"},{"val":"192"},{"val":"193"},{"val":"194"},{"val":"195"},{"val":"196"},{"val":"197"},{"val":"198"},
            {"val":"199"}];
      },
    })
  </script>
</dom-module>
