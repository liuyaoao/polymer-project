<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymer-bootstrap/polymer-bootstrap.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">
<!-- <link rel="import" href="../bower_components/iron-swipeable-pages/iron-swipeable-pages.html"> -->
<link rel="import" href="left-side.html">

<dom-module id="sameview-docLoading">
  <link rel="import" type="css" href="../css/animate.min.css">
  <link rel="import" type="css" href="../css/page.css">
  <link rel="import" type="css" href="../css/style.css">
  <template>
    <style include="polymer-bootstrap">
    a:focus,a:hover{
      text-decoration: none;
    }
    </style>
      <iron-media-query query="max-width: 768px" query-matches="{{_smallScreen}}"></iron-media-query>
    <app-route
        route="[[route]]"
        pattern="/:category"
        data="{{_routeData}}">
    </app-route>
    <div class="" fade-in$="[[!loading]]" hidden$="[[failure]]">
      <header class="docHeader">
        <paper-icon-button on-click="_toggleDrawer" class="mobile-toggle-drawer-btn" icon="menu" aria-label="Main navigation" role="button" tabindex="0" aria-disabled="false"></paper-icon-button>
        <div class="logo pull-left">
          <a href="/"><img src="../images/logo_01.svg" /></a>
        </div>
        <template is="dom-if" if="[[!smallScreen]]">
          <iron-selector role="navigation" class="menu-list pull-right" selected="[[category.name]]" attr-for-selected="name">
            <a name="home" href="/home"><paper-ripple></paper-ripple>返回官网</div></a>
          </iron-selector>    　　
        </template>
      </header>
      <div class="docMatter" style="margin-top:50px;">
        <left-side page="{{page}}"></left-side>
        <div class="docContent">
          <div class="crumbs">
            <p><a name="document" href="/document">文件</a><font> »</font></p>
            <p><font>部署 »</font></p>
            <p>批量装载数据</p>
          </div>
          <div role="main" class="document">
            <div itemprop="articleBody">

              <div class="section">
                <h1>批量装载数据</h1>
                <p>大量数据可以使用批量加载功能从JSON文件导入三人即时通在命令行。此功能最适合从现有消息传递系统迁移数据，或者用于使用数据预填充新安装。</p>
                <p>您可以导入以下数据类型：</p>
                <ul class="simple">
                  <li>小组</li>
                  <li>渠道（公共和私人）</li>
                  <li>用户</li>
                  <li>用户团队成员资格</li>
                  <li>用户频道会员资格</li>
                  <li>帖子（常规，不回覆帖子）</li>
                  <li>直接消息和组消息通道</li>
                  <li>直接消息和组消息</li>
                </ul>
                <p>尚不支持导入其他类型的帖子。</p>

                <div class="section">
                  <h2>关于批量加载命令</h2>
                  <dl class="docutils">
                    <dt>批量加载命令是可中断和幂等的</dt>
                    <dd>如果导入由于任何原因中断，它将继续下次运行它的地方。您可以使用相同的数据文件重复运行命令，并且数据仅导入一次。</dd>
                    <dt>您可以在实时系统上运行批量加载命令</dt>
                    <dd>虽然您不需要关闭三人即时通来运行命令，但如果数据文件中存在相应的字段，则可以覆盖运行之间的系统用户所做的更改。</dd>
                    <dt>一些数据字段是可选的</dt>
                    <dd>并非所有字段都是必填项。如果正在导入的对象中缺少可选字段，则数据库中字段的当前值不会更改。</dd>
                    <dt>批量加载命令不是同步工具</dt>
                    <dd>您不能使用批量加载命令从三人即时通数据库中删除任何对象或其字段。该命令仅创建或覆盖字段。</dd>
                  </dl>
                  <div class="admonition important">
<p class="first admonition-title">重要</p>
<p class="last">批量加载命令在CLI中运行，并在CLI的安全上下文中运行。这意味着它具有访问和更改三人即时通数据库中所有内容的完全权限。</p>
</div>
</div>
<div class="section" id="running-the-bulk-loading-command">
<h2>运行批量加载命令</h2>
<p>在运行批量加载命令之前，您必须先创建一个包含要导入的数据的JSON文件。创建文件后，在验证模式下运行批量加载命令。在此模式下，检查数据的正确性，但不会写入数据库。验证后，在apply模式下运行命令，将数据保存到数据库。</p>
<p><strong>要批量加载数据</strong>：</p>
<ol class="arabic simple">
<li>在您的三人即时通 <code class="docutils literal"><span class="pre">bin</span></code>目录中创建JSON数据文件。该文件可以有任何名称，但在这个过程中它被调用<code class="docutils literal"><span class="pre">data.json</span></code>。该文件的格式在数据格式部分中描述。</li>
<li>验证文件是否正确：</li>
</ol>

<div>
<ol class="loweralpha simple">
  <li>切换到三人即时通 <code class="docutils literal"><span class="pre">bin</span></code>目录。</li>
</ol>
  <div><code class="docutils literal"><span class="pre">cd</span> <span class="pre">/opt/3ren/bin</span></code> （系统上的位置可能不同）</div>
<ol class="loweralpha simple" start="2">
<li>运行以下命令：</li>
</ol>
  <div><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">./platform</span> <span class="pre">import</span> <span class="pre">bulk</span> <span class="pre">data.json</span> <span class="pre">--validate</span></code></div>
</div>
<ol class="arabic simple" start="3">
<li>解决所报告的任何错误，并再次验证该文件。不要转到下一步，直到可以无错误地运行validate命令。</li>
<li>在应用模式下运行批量加载命令：</li>
</ol>

<div><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">./platform</span> <span class="pre">import</span> <span class="pre">bulk</span> <span class="pre">data.json</span> <span class="pre">--apply</span></code></div>
<ol class="arabic simple" start="5">
<li>批量加载命令完成后，清除所有高速缓存。打开系统控制台，然后单击<strong>常规&gt;配置&gt;清除所有缓存</strong>。</li>
</ol>
</div>
<div class="section">
<h2>数据格式</h2>
<p>输入数据文件必须是一个有效的JSON文件，其中包含以下对象，每个对象都在文件的自己的一行中。对象必须按照列出的顺序出现在文件中。</p>
<dl class="docutils">
<dt>版</dt>
<dd>强制性。Version对象必须是文件中的第一行，并且必须只出现一次。</dd>
<dt>球队</dt>
<dd>可选的。如果存在，则Team对象必须发生在Version对象之后和任何Channel对象之前。</dd>
<dt>渠道</dt>
<dd>可选的。如果存在，则Channel对象必须在所有Team对象之后和任何User对象之前发生。</dd>
<dt>用户</dt>
<dd>可选的。如果存在，用户对象必须发生在文件中的Team和Channel对象之后以及任何Post对象之前。每个用户对象定义用户所属的团队和渠道。如果相应的团队和渠道不在数据文件中，则它们必须存在于三人即时通数据库中。</dd>
<dt>岗位</dt>
<dd>可选的。如果存在，则Post对象必须发生在最后一个User对象之后，而在任何DirectChannel对象之前。每个Post对象定义发布消息的用户的团队，渠道和用户名。如果相应的团队，渠道或用户不在数据文件中，则它们必须存在于三人即时通数据库中。</dd>
<dt>DirectChannel</dt>
<dd>可选的。如果存在，DirectChannel对象必须在文件中的所有Post对象之后以及任何DirectPost对象之前发生。</dd>
<dt>DirectPost</dt>
<dd>可选的。如果存在，DirectPost对象必须发生在文件中的所有其他对象之后。每个DirectPost对象定义了通道成员的用户名和发布消息的用户的用户名。如果相应的用户名不在数据文件中，则它们必须存在于三人即时通数据库中。</dd>
</dl>
<p>除了Version对象之外，每个对象都有一个字段或一组字段，用作该对象的唯一标识符。批量加载器使用唯一标识符来确定正在导入的对象是否为新对象或对现有对象的更新。</p>
<p>每个对象的标识符列在下表中：</p>
<div class="wy-table-responsive"><table border="1" class="docutils" id="id3">
<caption>对象及其唯一标识符</caption>
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">目的</th>
<th class="head">唯一标识符</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>版</td>
<td>不适用</td>
</tr>
<tr class="row-odd"><td>球队</td>
<td><em>名称</em></td>
</tr>
<tr class="row-even"><td>渠道</td>
<td><em>名字</em>，<em>团队</em></td>
</tr>
<tr class="row-odd"><td>用户</td>
<td><em>用户名</em></td>
</tr>
<tr class="row-even"><td>UserTeamMembership</td>
<td><em>团队</em>，<em>用户名</em></td>
</tr>
<tr class="row-odd"><td>UserChannelMembership</td>
<td><em>团队</em>，<em>频道</em>，<em>用户名</em></td>
</tr>
<tr class="row-even"><td>岗位</td>
<td><em>渠道</em>，<em>消息</em>，<em>create_at</em></td>
</tr>
<tr class="row-odd"><td>DirectChannel</td>
<td><em>会员</em></td>
</tr>
<tr class="row-even"><td>DirectPost</td>
<td><em>channel_members</em>，<em>user</em>，<em>message</em>，<em>create_at</em></td>
</tr>
</tbody>
</table></div>
<p>以下片段来自导入两个团队的文件，每个团队有两个渠道，许多用户和许多帖子。</p>
<div class="highlight-javascript"  style="width:100%;border: 1px solid #e1e4e5;padding: 0px;overflow-x: auto;background: #fff;margin: 1px 0 24px 0;"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre id="pre">
 1
 2
 3
 4
 五
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
</div></td><td class="code"><div class="highlight"><pre id="pre"><span></span><span class="p"></span> <span class="s2">“user” </span><span class="p">，</span><span class="p">... </span><span class="p">} </span><span class="p">{ </span><span class="nx">type </span><span class="o">：</span><span class="s2">“user” </span><span class="p">，</span><span class="p">... </span><span class="p">} </span><span class="p">{ </span><span class="nx">type </span><span class="o">：</span><span class="s2">“user” </span><span class="p">，</span><span class="p">... </span><span class="p">} </span><span class="p">。</span><span class="p">。</span><span class="p">。</span><span class="p">{ </span><span class="nx">type </span><span class="o">：</span><span class="s2">“post” </span><span class="p">，</span><span class="p">{ </span><span class="nx">team </span><span class="o">：</span><span class="s2">“TeamA” </span><span class="p">，</span><span class="nx">name </span><span class="o">：</span><span class="s2">“ChannelA1” </span><span class="p">，</span><span class="nx">user </span><span class="o">：</span><span class="s2">“user001” </span><span class="p">，</span><span class="p">...} </span><span class="p">} </span><span class="p">{ </span><span class="nx">type </span><span class="o">：</span><span class="s2">“post” </span><span class="p">，</span><span class="p">{ </span><span class="nx">team </span><span class="o">：</span><span class="s2">“TeamA” </span><span class="p">，</span><span class="nx">名称</span><span class="o">：</span><span class="s2">“ChannelA1” </span><span class="p">，</span><span class="nx">用户</span><span class="o">：</span><span class="s2">“001” </span><span class="p">，</span><span class="p">...} </span><span class="p">} </span><span class="p">{ </span><span class="nx">类型</span><span class="o">：</span><span class="s2">“后” </span><span class="p">，</span><span class="p">{ </span><span class="nx">团队</span><span class="o">：</span><span class="s2">“TeamA” </span><span class="p">，</span><span class="nx">名称</span><span class="o">：</span><span class="s2">“ChannelA1” </span><span class="p">，</span><span class="nx">用户</span><span class="o">：</span><span class="s2">“001” </span><span class="p">，</span><span class="p">... } </span><span class="p">} </span><span class="p">。</span><span class="p">。</span><span class="p">。</span><span class="p">} } </span><span class="p">{ </span><span class="nx">type </span><span class="o">：</span><span class="s2">“post” </span><span class="p">，</span><span class="p">{ </span><span class="nx">team </span><span class="o">：</span><span class="s2">“TeamA” </span><span class="p">，</span><span class="nx">name </span><span class="o">：</span><span class="s2">“ChannelA1” </span><span class="p">，</span><span class="nx">user </span><span class="o">：</span><span class="s2">“user001” </span><span class="p">，</span><span class="p">...} </span><span class="p">} </span><span class="p">。</span><span class="p">。</span><span class="p">。</span><span class="p">} } </span><span class="p">{ </span><span class="nx">type </span><span class="o">：</span><span class="s2">“post” </span><span class="p">，</span><span class="p">{ </span><span class="nx">team </span><span class="o">：</span><span class="s2">“TeamA” </span><span class="p">，</span><span class="nx">name </span><span class="o">：</span><span class="s2">“ChannelA1” </span><span class="p">，</span><span class="nx">user </span><span class="o">：</span><span class="s2">“user001” </span><span class="p">，</span><span class="p">...} </span><span class="p">} </span><span class="p">。</span><span class="p">。</span><span class="p">。</span><span class="nx"></span><span class="o"></span> <span class="s2"></span><span class="p"></span> <span class="p"></span> <span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>
<span class="p"></span>


</pre></div>
</td></tr></tbody></table></div>
<div class="section" id="version-object">
<h3>版本对象</h3>
<p>Version对象必须是数据文件中的第一个对象，并且只能显示一次。</p>
<div class="section" id="example-version-object">
<h4>示例版本对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre id="pre"><span></span><span class="p">{ </span>
  <span class="nx">type </span><span class="o">：</span> <span class="s2">“version” </span><span class="p">，</span>
  <span class="nx">version </span><span class="o">：</span> <span class="mi">1 </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-version-object">
<h4>版本对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">类型</td>
    <td valign="middle">串</td>
    <td>必须是字符串“version”</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">版</td>
    <td valign="middle">数</td>
    <td>必须是数字1。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
</tbody></table></div>
</div>
<div class="section" id="team-object">
<h3>团队对象</h3>
<p>如果存在，则Team对象必须发生在Version对象之后和任何Channel对象之前。</p>
<div class="section" id="example-team-object">
<h4>示例团队对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre id="pre"><span></span><span class="p">{ </span>
<span class="nx">type </span><span class="o">：</span> <span class="s2">“team” </span><span class="p">，</span>
<span class="nx">team </span><span class="o">：</span> <span class="p">{ </span>
  <span class="nx">name </span><span class="o">：</span> <span class="s2">“team-name” </span><span class="p">，</span>
  <span class="nx">display_name </span><span class="o">：</span> <span class="s2">“Team Display Name” </span><span class="p">，</span>
  <span class="nx">type </span><span class="o">：</span> <span class="s2">“O” </span><span class="p">，</span>
  <span class="nx">description </span><span class="o">：</span> <span class="s2">“The Team Description” </span><span class="p">，</span>
  <span class="nx">allow_open_invite </span><span class="o">：</span> <span class="kc">true </span>
  <span class="p">} </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-team-object">
<h4>团队对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">名称</td>
    <td valign="middle">串</td>
    <td>队名。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">显示名称</td>
    <td valign="middle">串</td>
    <td>团队的显示名称。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">类型</td>
    <td valign="middle">串</td>
    <td>团队的类型 可以有以下值：<br>
        <b>"O"</b>对于<br>
        <b>"I"</b>仅限邀请的团队的开放团队。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">描述</td>
    <td valign="middle">串</td>
    <td>团队描述。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">allow_open_invite</td>
    <td valign="middle">布尔</td>
    <td>是否允许开放邀请。必须具有以下值之一：<br>
      <b>true</b><br>
      <b>false</b>
    </td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
</tbody></table></div>
</div>
<div class="section" id="channel-object">
<h3>频道对象</h3>
<p>如果存在，则Channel对象必须在所有Team对象之后和任何User对象之前发生。</p>
<div class="section" id="example-channel-object">
<h4>示例通道对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre  id="pre"><span></span><span class="p">{ </span>
  <span class="nx">类型</span><span class="o">：</span> <span class="s2">“信道” </span><span class="p">，</span>
  <span class="nx">信道</span><span class="o">：</span> <span class="p">{ </span>
    <span class="nx">队</span><span class="o">：</span> <span class="s2">“队名” </span><span class="p">，</span>
    <span class="nx">名称</span><span class="o">：</span> <span class="s2">“频道名称” </span><span class="p">，</span>
    <span class="nx">DISPLAY_NAME </span><span class="o">：</span> <span class="s2">“频道名称” </span><span class="p">，</span>
    <span class="nx">类型</span><span class="o">：</span> <span class="s2">“O” </span><span class="p">，</span>
    <span class="nx">标题</span><span class="o">：</span> <span class="s2">“频道标题” </span><span class="p">，</span>
    <span class="nx">目的</span><span class="o">：</span> <span class="s2">“渠道目的“ </span><span class="p">，</span>
  <span class="p">} </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-channel-object">
<h4>Channel对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tfoot><tr><td colspan="5">[1]未验证，但如果在应用模式下运行时不存在此类团队，则会出现错误。</td></tr></tfoot>
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">球队</td>
    <td valign="middle">串</td>
    <td>该频道所属的团队名称。</td>
    <td align="center" valign="middle">不[1]</td>
    <td align="center" valign="middle">是</td>
  </tr>
<tr class="row-odd">
  <td valign="middle">名称</td>
  <td valign="middle">串</td>
  <td>频道的名称。</td>
  <td align="center" valign="middle">是</td>
  <td align="center" valign="middle">是</td>
</tr>
<tr class="row-odd">
  <td valign="middle">显示名称</td>
  <td valign="middle">串</td>
  <td>通道的显示名称。</td>
  <td align="center" valign="middle">是</td>
  <td align="center" valign="middle">是</td>
</tr>
<tr class="row-odd">
  <td valign="middle">类型</td>
  <td valign="middle">串</td>
  <td>频道类型 可以有以下值：<br>
      <b>"O"</b>对于公共频道 <br>
      <b>"P"</b>为私人频道。</td>
  <td align="center" valign="middle">是</td>
  <td align="center" valign="middle">是</td>
</tr>
<tr class="row-odd">
  <td valign="middle">头</td>
  <td valign="middle">串</td>
  <td>频道头。</td>
  <td align="center" valign="middle">是</td>
  <td align="center" valign="middle">没有</td>
</tr>
<tr class="row-odd">
  <td valign="middle">目的</td>
  <td valign="middle">串</td>
  <td>渠道目的。</td>
  <td align="center" valign="middle">是</td>
  <td align="center" valign="middle">没有</td>
</tr>
</tbody></table></div>
</div>
<div class="section" id="user-object">
<h3>用户对象</h3>
<p>如果存在，用户对象必须发生在文件中的Team和Channel对象之后以及任何Post对象之前。</p>
<div class="section" id="example-user-object">
<h4>示例用户对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre id="pre"><span></span><span class="p">{ </span>
  <span class="nx">type </span><span class="o">：</span> <span class="s2">“user” </span><span class="p">，</span>
  <span class="nx">user </span><span class="o">：</span> <span class="p">{ </span>
    <span class="nx">username </span><span class="o">：</span> <span class="s2">“username” </span><span class="p">，</span>
    <span class="nx">email </span><span class="o">：</span> <span class="s2">“email@example.com” </span><span class="p">，</span>
    <span class="nx">auth_service </span><span class="o">：</span> <span class="s2">“” </span><span class="p">，</span>
    <span class="nx">auth_data </span><span class="o">：</span> <span class="s2">“” </span><span class="p">，</span>
    <span class="nx">password </span><span class="o">：</span> <span class="s2">“passw0rd” </span><span class="p">，</span>
    <span class="nx">昵称</span><span class="o">：</span> <span class="s2">“bobuser” </span><span class="p">，</span>
    <span class="nx">first_name </span><span class="o">：</span> <span class="s2">“Bob” </span><span class="p">，</span>
    <span class="nx">last_name </span><span class="o">：</span> <span class="s2">“User” </span><span class="p">，</span>
    <span class="nx">position </span><span class="o">：</span> <span class="s2">“Senior Developer” </span><span class="p">，</span>
    <span class="nx">roles </span><span class="o">：</span> <span class="s2">“system_user“ </span><span class="p">，</span>
    <span class="nx">区域设置</span><span class="o">：</span> <span class="s2">”pt_BR“ </span><span class="p">，</span>
    <span class="nx">团队</span><span class="o">：</span> <span class="p">[ </span>
      <span class="p">{ </span>
        <span class="nx">name </span><span class="o">：</span> <span class="s2">”team-name“ </span><span class="p">，</span>
        <span class="nx">roles </span><span class="o">：</span> <span class="s2">”team_user team_admin“ </span><span class="p">，</span>
        <span class="nx">channels </span><span class="o">：</span> <span class="p">[ </span>
          <span class="p">{ </span>
            <span class="nx">name </span><span class="o">：</span> <span class="s2">”channel-name“ </span><span class="p">，</span>
            <span class="nx">roles </span><span class="o">：</span> <span class="s2">”channel_user“ </span><span class="p">，</span>
            <span class="nx">notify_props </span><span class="o">：</span> <span class="p">{ </span>
              <span class="nx">desktop </span><span class="o">：</span> <span class="s2">“默认” </span><span class="p">，</span>
              <span class="nx">mark_unread </span><span class="o">：</span> <span class="s2">“所有” </span>
            <span class="p">} </span>
          <span class="p">} </span>
        <span class="p">] </span>
      <span class="p">} </span>
    <span class="p">] </span>
  <span class="p">} </span>
<span class="p">}</span><span class="nx">区域设置</span><span class="o">：</span><span class="s2">“pt_BR” </span><span class="p">，</span><span class="nx">团队</span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“team-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“team_user team_admin” </span><span class="p">，</span><span class="nx">channels </span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“channel-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“channel_user” </span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">desktop </span><span class="o">：</span><span class="s2">“default “ </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">”all“ </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="nx">区域设置</span><span class="o">：</span><span class="s2">“pt_BR” </span><span class="p">，</span><span class="nx">团队</span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“team-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“team_user team_admin” </span><span class="p">，</span><span class="nx">channels </span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“channel-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“channel_user” </span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">desktop </span><span class="o">：</span><span class="s2">“default “ </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">”all“ </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="nx">团队</span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“team-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“team_user team_admin” </span><span class="p">，</span><span class="nx">channels </span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“channel-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“channel_user” </span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">desktop </span><span class="o">：</span><span class="s2">“default” </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">“all “ </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="nx">团队</span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“team-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“team_user team_admin” </span><span class="p">，</span><span class="nx">channels </span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">name </span><span class="o">：</span><span class="s2">“channel-name” </span><span class="p">，</span><span class="nx">roles </span><span class="o">：</span><span class="s2">“channel_user” </span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">desktop </span><span class="o">：</span><span class="s2">“default” </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">“all “ </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="nx">角色</span><span class="o">：</span><span class="s2">“team_user team_admin” </span><span class="p">，</span><span class="nx">信道</span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">名称</span><span class="o">：</span><span class="s2">“频道名称” </span><span class="p">，</span><span class="nx">角色</span><span class="o">：</span><span class="s2">“channel_user” </span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">台式</span><span class="o">：</span><span class="s2">“默认” </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">“所有” </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="nx">角色</span><span class="o">：</span><span class="s2">“team_user team_admin” </span><span class="p">，</span><span class="nx">信道</span><span class="o">：</span><span class="p">[ </span><span class="p">{ </span><span class="nx">名称</span><span class="o">：</span><span class="s2">“频道名称” </span><span class="p">，</span><span class="nx">角色</span><span class="o">：</span><span class="s2">“channel_user” </span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">台式</span><span class="o">：</span><span class="s2">“默认” </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">“所有” </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">desktop </span><span class="o">：</span><span class="s2">“default” </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">“all” </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span><span class="p">，</span><span class="nx">notify_props </span><span class="o">：</span><span class="p">{ </span><span class="nx">desktop </span><span class="o">：</span><span class="s2">“default” </span><span class="p">，</span><span class="nx">mark_unread </span><span class="o">：</span><span class="s2">“all” </span><span class="p">} </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">] </span><span class="p">} </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-user-object">
<h4>用户对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">用户名</td>
    <td valign="middle">串</td>
    <td>用户的用户名。这是用户的唯一标识符。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">电子邮件</td>
    <td valign="middle">串</td>
    <td>用户的电子邮件地址。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">auth_service</td>
    <td valign="middle">串</td>
    <td>用于此用户帐户的身份验证服务。如果未提供，则默认为基于密码的身份验证。必须是以下值之一：<br>
      <b>""</b>或未提供 - 密码验证。<br>
      <b>"gitlab"</b> -  GitLab认证。<br>
      <b>"ldap"</b>-  LDAP身份验证（E10和E20）<br>
      <b>"saml"</b>- 基于SAML的通用认证（E20）<br>
      <b>"google"</b>-  Google OAuth身份验证（E20）<br>
      <b>"office365"</b>-  Microsoft Office 365 OAuth身份验证（E20）</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">AUTH_DATA</td>
    <td valign="middle">串</td>
    <td>使用认证数据<b>auth_service</b>。该值取决于<b>auth_service</b>指定的值。<br>
      数据来自相应auth_services的以下字段：<br>
      <b>""</b>或未提供 - 必须省略。<br>
      <b>"gitlab"</b> -  Gitlab验证数据中提供的Id属性的值。<br>
      <b>"ldap"</b> - 在三人即时通 LDAP配置中指定为“ID属性”的LDAP属性的值。<br>
      <b>"saml"</b> -  SAML电子邮件地址属性的值。<br>
      <b>"google"</b> -  OAuth Id属性的值。<br>
      <b>"office365"</b> -  OAuth Id属性的值。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">密码</td>
    <td valign="middle">串</td>
    <td>用户的密码。只有当使用基于密码的身份验证时才能存在。当使用基于密码的身份验证并且密码不存在时，批量加载器将生成密码。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">昵称</td>
    <td valign="middle">串</td>
    <td>用户的昵称</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">名字</td>
    <td valign="middle">串</td>
    <td>用户的名字。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">姓</td>
    <td valign="middle">串</td>
    <td>用户的姓氏。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">位置</td>
    <td valign="middle">串</td>
    <td>用户的位置</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">角色</td>
    <td valign="middle">串</td>
    <td>用户角色。必须是以下值之一：<br>
      <b>"system_user"</b><br>
      <b>"system_admin system_user"</b></td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">现场</td>
    <td valign="middle">串</td>
    <td>用户的区域设置。这必须是三人即时通本地化的有效区域。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">球队</td>
    <td valign="middle">排列</td>
    <td>用户将成为其成员的团队。必须是<b>TeamMembership</b>对象的数组。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">主题</td>
    <td valign="middle">串</td>
    <td>用户的主题。格式化为最重要的主题字符串。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">selected_font</td>
    <td valign="middle">串</td>
    <td>用户的显示字体，从三人即时通中可用的列表。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">use_military_time</td>
    <td valign="middle">串</td>
    <td>该用户应该显示几次。必须是以下值之一：<br>
      <b>"true"</b>- 使用24小时制。<br>
      <b>"false"</b> - 使用12小时钟。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">name_format</td>
    <td valign="middle">串</td>
    <td>如何向该用户显示名称。必须是以下值之一：<br>
      <b>"username"</b>- 显示用户名。<br>
      <b>"nickname_full_name"</b> - 显示昵称，如果存在，否则的名字和姓氏。<br>
      <b>"full_name"</b> - 显示名字和姓氏。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">collapse_previews</td>
    <td valign="middle">串</td>
    <td>是否默认折叠或展开链接预览。必须是以下值之一：<br>
      <b>"true"</b>- 默认折叠。<br>
      <b>"false"</b> - 默认情况下扩展。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">message_display</td>
    <td valign="middle">串</td>
    <td>用于显示消息的样式。必须是以下值之一：<br>
      <b>"clean"</b>- 使用标准样式。<br>
      <b>"compact"</b> - 使用紧凑的风格。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">channel_display_mode</td>
    <td valign="middle">串</td>
    <td>如何显示频道讯息。必须是以下值之一：<br>
      <b>"full"</b>- 使用屏幕的全宽。<br>
      <b>"centered"</b> - 使用固定宽度，居中的块。</td>
    <td align="center" valign="middle">没有</td>
    <td align="center" valign="middle">没有</td>
  </tr>
</tbody></table></div>
<div class="section" id="fields-of-the-teammembership-object">
<h4>TeamMembership对象的字段</h4>
<p>该对象是User对象的成员。</p>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tfoot><tr><td colspan="5">[1]未验证，但如果在应用模式下运行时不存在此类团队，则会出现错误。</td></tr></tfoot>
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">名称</td>
    <td valign="middle">串</td>
    <td>该用户应该是其成员的团队名称。</td>
    <td align="center" valign="middle">不[1]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">角色</td>
    <td valign="middle">串</td>
    <td>用户在该团队中应具有的角色。必须是以下值之一：<br>
        <b>"team_user"</b><br>
        <b>"team_admin team_user"</b>
    </td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">渠道</td>
    <td valign="middle">排列</td>
    <td>该团队中的用户应成为会员的渠道。必须是一组<b>ChannelMembership</b>对象。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
</tbody></table></div>
<div class="section" id="fields-of-the-channelmembership-object">
<h4>ChannelMembership对象的字段</h4>
<p>此对象是TeamMembership对象的成员。</p>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tfoot><tr><td colspan="5">[1]未验证，但如果在应用模式下运行时父通道不存在则会发生错误。</td></tr></tfoot>
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">名称</td>
    <td valign="middle">串</td>
    <td>该用户应成为其成员的父团队中的频道名称。</td>
    <td align="center" valign="middle">不[1]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">角色</td>
    <td valign="middle">串</td>
    <td>用户在此频道内的角色。必须是以下值之一：<br>
        <b>"channel_user"</b><br>
        <b>"channel_user channel_admin"</b>
    </td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">notify_props</td>
    <td valign="middle">目的</td>
    <td>此频道中此用户的通知偏好设置。必须是<b>ChannelNotifyProps</b>对象</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
</tbody></table></div>
<div class="section" id="fields-of-the-channelnotifyprops-object">
<h4>ChannelNotifyProps对象的字段</h4>
<p>此对象是ChannelMembership对象的成员。</p>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">桌面</td>
    <td valign="middle">串</td>
    <td>优先发送桌面通知。必须是以下值之一：<br>
    <b>"default"</b>- 全局默认值。<br>
    <b>"all"</b> - 所有活动。<br>
    <b>"mention"</b> - 仅供参考。<br>
    <b>"none"</b> - 从不。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">标记为未读</td>
    <td valign="middle">串</td>
    <td>将频道标记为未读的偏好。必须是以下值之一：<br>
        <b>"all"</b>- 对于所有未读消息。<br>
        <b>"mention"</b> - 仅供参考。
    </td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
</tbody></table></div>
</div>
<div class="section" id="post-object">
<h3>发布对象</h3>

<div>如果存在，则Post对象必须发生在文件中的最后一个User对象之后，而在任何DirectChannel对象之前。</div>
<div class="section" id="example-post-object">
<h4>示例Post对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre id="pre"><span></span><span class="p">{ </span>
  <span class="nx">type </span><span class="o">：</span> <span class="s2">“post” </span><span class="p">，</span>
  <span class="nx">post </span><span class="o">：</span> <span class="p">{ </span>
    <span class="nx">team </span><span class="o">：</span> <span class="s2">“team-name” </span><span class="p">，</span>
    <span class="nx">channel </span><span class="o">：</span> <span class="s2">“channel-name” </span><span class="p">，</span>
    <span class="nx">user </span><span class="o">：</span> <span class="s2">“username” </span><span class="p">，</span>
    <span class="nx">message </span><span class="o">：</span> <span class="s2">“post message” </span><span class="p">，</span>
    <span class="nx">create_at </span><span class="o">：</span> <span class="mi">140012340013 </span>
  <span class="p">} </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-post-object">
<h4>Post对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tfoot>
    <tr>
      <td colspan="5">[1]未验证，但如果团队在应用模式下运行时不存在错误。<br>
      [2]未验证，但如果在应用模式下运行时相应的团队中不存在该通道，则会发生错误。<br>
      [3]未验证，但如果用户在应用模式下运行时不存在错误。
      </td>
    </tr>
  </tfoot>
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">球队</td>
    <td valign="middle">串</td>
    <td>该帖子所在的团队名称。</td>
    <td align="center" valign="middle">不[1]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">渠道</td>
    <td valign="middle">串</td>
    <td>此帖子所在的频道名称。</td>
    <td align="center" valign="middle">不[2]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">用户</td>
    <td valign="middle">串</td>
    <td>此帖的用户的用户名。</td>
    <td align="center" valign="middle">不[3]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">信息</td>
    <td valign="middle">串</td>
    <td>帖子中包含的消息。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">create_at</td>
    <td valign="middle">INT</td>
    <td>Post的时间戳，自Unix纪元以来，以毫秒为单位。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
</tbody></table></div>
</div>
<div class="section" id="directchannel-object">
<h3>DirectChannel对象</h3>
<p>直接频道可以有两到八个用户作为频道成员。如果只有两个成员，三人即时通将其视为直接消息通道。如果有三个或更多的成员，三人即时通将其视为组消息通道。</p>
<div class="section" id="example-directchannel-object">
<h4>示例DirectChannel对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre id="pre"><span></span><span class="p">{ </span>
  <span class="s2">“type” </span><span class="o">：</span> <span class="s2">“direct_channel” </span><span class="p">，</span>
  <span class="s2">“direct_channel” </span><span class="o">：</span> <span class="p">{ </span>
    <span class="s2">“members” </span><span class="o">：</span> <span class="p">[ </span>
      <span class="s2">“username1” </span><span class="p">，</span>
      <span class="s2">“username2” </span><span class="p">，</span>
      <span class="s2">“username3” </span>
    <span class="p">]，</span>
    <span class="s2">“header” </span><span class="o">：</span> <span class="s2">“频道头” </span><span class="p">，</span>
  <span class="p">} </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-directchannel-object">
<h4>DirectChannel对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tfoot>
    <tr>
      <td colspan="5">[1]未验证，但如果在应用模式下运行时有一个或多个用户不存在错误。
      </td>
    </tr>
  </tfoot>
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">会员</td>
    <td valign="middle">排列</td>
    <td>必须包含一个成员列表，至少有两个用户名，最多可以有八个用户名。</td>
    <td align="center" valign="middle">不[1]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">头</td>
    <td valign="middle">串</td>
    <td>频道头。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">没有</td>
  </tr>
</tbody></table></div>
</div>
<div class="section" id="directpost-object">
<h3>DirectPost对象</h3>
<p>DirectPost对象必须发生在文件中的所有其他对象之后。</p>
<div class="section" id="example-directpost-object">
<h4>示例DirectPost对象</h4>
<p>为了清楚起见，该对象使用常规的JSON格式显示，但在数据文件中，它不能分散在几行中。它必须全部在一行。</p>
<div class="highlight-javascript"><div class="highlight"><pre id="pre"><span></span><span class="p">{ </span>
  <span class="s2">“type” </span><span class="o">：</span> <span class="s2">“direct_post” </span><span class="p">，</span>
  <span class="s2">“direct_post” </span><span class="o">：</span> <span class="p">{ </span>
    <span class="s2">“channel_members” </span><span class="o">：</span> <span class="p">[ </span>
      <span class="s2">“username1” </span><span class="p">，</span>
      <span class="s2">“username2” </span><span class="p">，</span>
      <span class="s2">“username3” </span><span class="p">，</span>
    <span class="p">]，</span>
    <span class="s2">“user” </span><span class="o">：</span> <span class="s2">“username2” </span><span class="p">，</span>
    <span class="s2">“message” </span><span class="o">：</span> <span class="s2">“Hello Group Channel” </span><span class="p">，</span>
    <span class="s2">“create_at” </span><span class="o">：</span> <span class="mi">140012340013 </span>
  <span class="p">} </span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fields-of-the-directpost-object">
<h4>DirectPost对象的字段</h4>
<table width="100%" border="1" cellpadding="5px" style="margin-bottom:20px;">
  <tfoot>
    <tr>
      <td colspan="5">[1]未验证，但如果在应用模式下运行时没有通道包含相同的列表，则会出现错误。<br>[2]未验证，但如果用户在应用模式下运行时不存在错误。
      </td>
    </tr>
  </tfoot>
  <tbody><tr class="row-odd">
    <th class="head">字段名称</th>
    <th class="head">类型</th>
    <th class="head">描述</th>
    <th class="head">验证</th>
    <th class="head">强制性</th>
  </tr>
  <tr class="row-odd">
    <td valign="middle">channel_members</td>
    <td valign="middle">排列</td>
    <td>必须包含一个成员列表，至少有两个用户名，最多可以有八个用户名。</td>
    <td align="center" valign="middle">不[1]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">用户</td>
    <td valign="middle">串</td>
    <td>此帖的用户的用户名。</td>
    <td align="center" valign="middle">不[2]</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">信息</td>
    <td valign="middle">串</td>
    <td>帖子中包含的消息。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
  <tr class="row-odd">
    <td valign="middle">create_at</td>
    <td valign="middle">INT</td>
    <td>Post的时间戳，自Unix纪元以来，以毫秒为单位。</td>
    <td align="center" valign="middle">是</td>
    <td align="center" valign="middle">是</td>
  </tr>
</tbody></table></div>
</div>
</div>
</div>


           </div>
          </div>
        </div>
      </div>

  </div>
</template>
<script>
  Polymer({
    is: 'sameview-docLoading',

     ready: function(){
       var win = $(window);
       $(window).resize(function(){
         this.winwidth = win.width();//屏幕的宽  .width()
         this.winheight = win.innerHeight()-1;//屏幕的高
         var bgHeight = this.winheight;
        //  $(this.$.bg).height(bgHeight);
       });
       this.winheight = win.innerHeight()-1;//屏幕的高
       this.winwidth = win.width();//屏幕的宽  .width()
       var bgHeight = this.winheight;
      //  $(this.$.bg).height(bgHeight);

     },

  });

</script>

</dom-module>
